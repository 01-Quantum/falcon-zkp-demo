<div class="proof-generation-container">
  <div class="info-box">
    <strong>‚ÑπÔ∏è About Proof Generation:</strong> This form accepts the Falcon-512 signature components and generates a Zero-Knowledge Proof (Groth16).
    The circuit computes derived values automatically.
  </div>

  <div class="form-section">
    <h2>1Ô∏è‚É£ Load Inputs</h2>
    <div class="button-group left" style="margin-bottom: 20px;">
      <button class="btn btn-secondary" (click)="loadExample(1)" [disabled]="loading">
        Load Example 1
      </button>
      <button class="btn btn-secondary" (click)="loadExample(2)" [disabled]="loading">
        Load Example 2
      </button>
      <button class="btn btn-secondary" (click)="clearForm()" [disabled]="loading">
        Clear Form
      </button>
    </div>

    <form (ngSubmit)="generateProof()" #proofForm="ngForm">
      <h3>Falcon-512 Signature Inputs</h3>
      
      <div class="form-group">
        <label for="s1">
          s1 (Signature Component) <span class="required">*</span>
        </label>
        <textarea
          id="s1"
          name="s1"
          [(ngModel)]="s1"
          required
          rows="4"
          class="code-font"
          placeholder="[1, 2, 3, ..., 512]"
          [disabled]="loading"
        ></textarea>
      </div>

      <div class="form-group">
        <label for="h_hat">
          h_hat (Hash / Public Key Component) <span class="required">*</span>
        </label>
        <textarea
          id="h_hat"
          name="h_hat"
          [(ngModel)]="h_hat"
          required
          rows="4"
          class="code-font"
          placeholder="[1, 2, 3, ..., 512]"
          [disabled]="loading"
        ></textarea>
      </div>

      <div class="form-group">
        <label for="h_product_inv">
          h_product_inv (Hash Product Inverse) <span class="required">*</span>
        </label>
        <textarea
          id="h_product_inv"
          name="h_product_inv"
          [(ngModel)]="h_product_inv"
          required
          rows="4"
          class="code-font"
          placeholder="[1, 2, 3, ..., 512]"
          [disabled]="loading"
        ></textarea>
      </div>

      <div class="form-group">
        <label for="h2p_d">
          h2p_d (Hash-to-Point with Delta) <span class="required">*</span>
        </label>
        <textarea
          id="h2p_d"
          name="h2p_d"
          [(ngModel)]="h2p_d"
          required
          rows="4"
          class="code-font"
          placeholder="[1, 2, 3, ..., 512]"
          [disabled]="loading"
        ></textarea>
      </div>

      <h3>Transaction Hashes</h3>
      <div class="form-row">
        <div class="form-group">
          <label for="in_tx_hash1">Transaction Hash 1 (128-bit) <span class="required">*</span></label>
          <input type="text" id="in_tx_hash1" name="in_tx_hash1" [(ngModel)]="in_tx_hash1" required class="code-font" [disabled]="loading"/>
        </div>
        <div class="form-group">
          <label for="in_tx_hash2">Transaction Hash 2 (128-bit) <span class="required">*</span></label>
          <input type="text" id="in_tx_hash2" name="in_tx_hash2" [(ngModel)]="in_tx_hash2" required class="code-font" [disabled]="loading"/>
        </div>
      </div>

      <div class="form-group">
        <label for="pk_hash_in">Public Key Hash Input <span class="required">*</span></label>
        <input type="text" id="pk_hash_in" name="pk_hash_in" [(ngModel)]="pk_hash_in" required class="code-font" [disabled]="loading"/>
      </div>

      <div class="form-group">
        <label for="in_c_hash">Input C Hash <span class="required">*</span></label>
        <input type="text" id="in_c_hash" name="in_c_hash" [(ngModel)]="in_c_hash" required class="code-font" [disabled]="loading"/>
      </div>

      <div class="info-box" *ngIf="loading">
        <p>‚ö° Computing witness and generating zero-knowledge proof...</p>
        <p>This process may take 5-15 seconds depending on your device.</p>
      </div>

      <div class="error-message" *ngIf="error">
        <strong>‚ùå Error:</strong> {{ error }}
      </div>

      <div class="button-group">
        <button 
          type="submit" 
          class="btn btn-primary" 
          [disabled]="!proofForm.valid || loading"
        >
          {{ loading ? '‚è≥ Generating Proof...' : 'üöÄ Generate Proof' }}
        </button>
      </div>
    </form>
  </div>
</div>
